version = 3.7.1
runner.dialect = scala3

maxColumn = 80

lineEndings = unix

# Defaults
assumeStandardLibraryStripMargin = false
align.stripMargin = true

danglingParentheses = {
    defnSite = true
    callSite = true
    ctrlSite = true
    tupleSite = true
}

docstrings = {
    oneline = fold
    removeEmpty = true
    style = AsteriskSpace
    wrap = no
}

includeNoParensInSelectChains = true

newlines {
  alwaysBeforeElseAfterCurlyIf = yes
  avoidInResultType = yes
  avoidForSimpleOverflow = [slc]
  beforeCurlyLambdaParams = multilineWithCaseOnly
  afterCurlyLambdaParams = squash
  implicitParamListModifierForce = [after]
  inInterpolation = avoid
}

project {
  excludeFilters = [
    ".metals"
  ]
}

rewrite {
  
  rules = [
    AvoidInfix
    PreferCurlyFors
    RedundantBraces
    RedundantParens
    SortModifiers
  ]

  sortModifiers {
    order = [
      final
      sealed
      abstract
      override
      implicit
      private
      protected
      lazy
    ]
  }

  redundantBraces {
    stringInterpolation = true
    ifElseExpressions = yes
  }

  imports {
    sort = scalastyle
    expand = true
  }

  scala3 {
    convertToNewSyntax = true
    removeOptionalBraces = true
  }
}